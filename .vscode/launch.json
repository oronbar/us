{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python Debugger: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal"
        },
        {
            "name": "Pretrain",
            "type": "debugpy",
            "request": "launch",
            "program": "patient_conditioned_strain_model.py",
            "console": "integratedTerminal",
            "args": [
                "--parquet", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\processed\\strain_dataset.parquet",
                "--outdir",  "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\models",
                "--stage", "pretrain",
                "--epochs", "400",              // a bit longer for small data
                "--batch", "32",                // modestly larger batch
                "--scheduler", "cosine",        // mild LR decay
                "--logdir", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\models\\tblogs\\pretrain"
            ]
        },
        {
            "name": "Pretrain - Local",
            "type": "debugpy",
            "request": "launch",
            "program": "patient_conditioned_strain_model.py",
            "console": "integratedTerminal",
            "args": [
                "--parquet", "F:\\DS\\Tags\\VVI\\processed\\strain_dataset.parquet",
                "--outdir",  "F:\\DS\\Tags\\VVI\\models",
                "--stage", "pretrain",
                "--epochs", "150",              // a bit longer for small data
                "--batch", "64",                // modestly larger batch
                "--scheduler", "cosine",        // mild LR decay
                "--logdir", "F:\\DS\\Tags\\VVI\\models\\tblogs\\pretrain"
            ]
        },
        {
            "name": "Finetune",
            "type": "debugpy",
            "request": "launch",
            "program": "patient_conditioned_strain_model.py",
            "console": "integratedTerminal",
            "args": [
                "--parquet", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\processed\\strain_dataset.parquet",
                "--outdir",  "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\models",
                "--stage", "finetune",
                "--epochs", "40",               // a bit longer supervised phase
                "--batch", "16",
                "--load",  "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\models\\pretrain_best.pt",
                "--logdir", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\models\\tblogs\\finetune"
            ]
        },
        {
            "name": "Recon QC",
            "type": "debugpy",
            "request": "launch",
            "program": "reconstruct_qc.py",
            "console": "integratedTerminal",
            "args": [
                "--parquet", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\processed\\strain_dataset.parquet",
                "--ckpt",   "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\models\\pretrain_best.pt",
                "--outdir", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\models\\qc_recon",
                "--num", "8",
                "--batch", "4",
                "--T", "64"
            ]
        },
        {
            "name": "VVI XML Preprocess",
            "type": "debugpy",
            "request": "launch",
            "program": "vvi_xml_preprocess.py",
            "console": "integratedTerminal",
            "args": [
                "--vvi-dir", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\Anonymous",
                "--registry-xlsx", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Cardio-Onco Echo SZMC\\SZMC_report_oron.xlsx",
                "--echo-root", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Cardio-Onco Echo SZMC",
                "--out-parquet", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\processed\\strain_dataset.parquet"
            ]
        },
        {
            "name": "EDA: Early vs Late Strain",
            "type": "debugpy",
            "request": "launch",
            "program": "eda_temporal_strain_shift.py",
            "console": "integratedTerminal",
            "args": [
                "--parquet", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\processed\\strain_dataset.parquet",
                "--outdir", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\models\\eda_temporal_shift",
                "--view", "4C",                 // set to 4C/2C or remove flag to include all
                "--T", "64",
                "--min_gap_days", "30",         // require at least 30 days between early and late scans
                "--max_examples", "8",          // number of overlay examples to plot
                "--model-ckpt", "${env:USERPROFILE}\\OneDrive - Technion\\DS\\Tags\\VVI\\models\\pretrain_best.pt"
            ]
        },
        {
            "name": "Create Labels CSV",
            "type": "debugpy",
            "request": "launch",
            "program": "create_labels_csv.py",
            "console": "integratedTerminal",
            "args": [
                "--parquet", "F:\\DS\\Tags\\VVI\\processed\\strain_dataset.parquet",
                "--out", "${workspaceFolder}\\labels.csv",
                "--default-outcome", ""
            ]
        }
    ]
}
